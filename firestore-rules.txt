// Firestore 보안 규칙 설정 방법
// Firebase Console > Firestore Database > 규칙 탭에서 아래 규칙을 설정하세요

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // users 컬렉션 규칙
    match /users/{userId} {
      // 인증된 사용자가 자신의 문서만 읽고 쓸 수 있음
      allow read, write: if request.auth != null && request.auth.uid == userId;
      
      // 또는 회원가입 시에는 자신의 문서를 생성할 수 있도록
      allow create: if request.auth != null && request.auth.uid == userId;
      allow read, update, delete: if request.auth != null && request.auth.uid == userId;
    }
    
    // 개발/테스트 단계에서는 아래 규칙 사용 (주의: 프로덕션에서는 사용하지 마세요)
    // match /{document=**} {
    //   allow read, write: if request.auth != null;
    // }
  }
}

// 설정 방법:
// 1. Firebase Console (https://console.firebase.google.com) 접속
// 2. 프로젝트 선택
// 3. 왼쪽 메뉴에서 "Firestore Database" 클릭
// 4. "규칙" 탭 클릭
// 5. 위의 규칙을 복사하여 붙여넣기
// 6. "게시" 버튼 클릭
